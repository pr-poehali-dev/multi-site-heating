import { City } from '@/types/city';

export const CITIES: City[] = [
  {
    id: 'yaroslavl',
    name: 'Ярославль',
    slug: 'yaroslavl',
    region: 'Ярославская область',
    coordinates: { lat: 57.6261, lng: 39.8845 },
    phone: '+7 (4852) 58-76-43',
    email: 'info@промывка-отопления76.рф',
    address: 'г. Ярославль, ул. Первомайская, 61',
    workingHours: 'Круглосуточно',
    priceModifier: 1.0,
    domain: 'промывка-отопления76.рф',
    domainLatin: 'promyvka-otopleniya76.ru',
    isActive: true
  },
  {
    id: 'rostov',
    name: 'Ростов',
    slug: 'rostov',
    region: 'Ярославская область',
    coordinates: { lat: 57.1887, lng: 39.4155 },
    phone: '+7 (48536) 7-89-12',
    email: 'rostov@промывка-отопления76.рф',
    address: 'г. Ростов, ул. Луначарского, 15',
    workingHours: '8:00 - 20:00',
    priceModifier: 0.9,
    domain: 'ростов.промывка-отопления76.рф',
    domainLatin: 'rostov.promyvka-otopleniya76.ru',
    isActive: true
  },
  {
    id: 'pereslavl',
    name: 'Переславль-Залесский',
    slug: 'pereslavl',
    region: 'Ярославская область',
    coordinates: { lat: 56.7386, lng: 38.8536 },
    phone: '+7 (48535) 9-45-67',
    email: 'pereslavl@промывка-отопления76.рф',
    address: 'г. Переславль-Залесский, ул. Советская, 23',
    workingHours: '9:00 - 18:00',
    priceModifier: 0.85,
    domain: 'переславль.промывка-отопления76.рф',
    domainLatin: 'pereslavl.promyvka-otopleniya76.ru',
    isActive: true
  },
  {
    id: 'rybinsk',
    name: 'Рыбинск',
    slug: 'rybinsk',
    region: 'Ярославская область',
    coordinates: { lat: 58.0446, lng: 38.8586 },
    phone: '+7 (4855) 29-83-14',
    email: 'rybinsk@промывка-отопления76.рф',
    address: 'г. Рыбинск, ул. Крестовая, 87',
    workingHours: 'Круглосуточно',
    priceModifier: 1.1,
    domain: 'рыбинск.промывка-отопления76.рф',
    domainLatin: 'rybinsk.promyvka-otopleniya76.ru',
    isActive: true
  },
  {
    id: 'tutaev',
    name: 'Тутаев',
    slug: 'tutaev',
    region: 'Ярославская область',
    coordinates: { lat: 57.8836, lng: 39.5394 },
    phone: '+7 (48533) 5-62-89',
    email: 'tutaev@промывка-отопления76.рф',
    address: 'г. Тутаев, ул. Луначарского, 34А',
    workingHours: '8:00 - 20:00',
    priceModifier: 0.8,
    domain: 'тутаев.промывка-отопления76.рф',
    domainLatin: 'tutaev.promyvka-otopleniya76.ru',
    isActive: true
  },
  {
    id: 'uglich',
    name: 'Углич',
    slug: 'uglich',
    region: 'Ярославская область',
    coordinates: { lat: 57.5264, lng: 38.3286 },
    phone: '+7 (48532) 4-15-73',
    email: 'uglich@промывка-отопления76.рф',
    address: 'г. Углич, ул. Ярославская, 12',
    workingHours: '9:00 - 18:00',
    priceModifier: 0.9,
    domain: 'углич.промывка-отопления76.рф',
    domainLatin: 'uglich.promyvka-otopleniya76.ru',
    isActive: true
  },
  {
    id: 'nekrasovskoe',
    name: 'Некрасовское',
    slug: 'nekrasovskoe',
    region: 'Ярославская область',
    coordinates: { lat: 57.2103, lng: 40.2147 },
    phone: '+7 (48531) 6-73-24',
    email: 'nekrasovskoe@промывка-отопления76.рф',
    address: 'с. Некрасовское, ул. Советская, 18',
    workingHours: '9:00 - 18:00',
    priceModifier: 0.7,
    domain: 'некрасовское.промывка-отопления76.рф',
    domainLatin: 'nekrasovskoe.promyvka-otopleniya76.ru',
    isActive: true
  },
  {
    id: 'danilov',
    name: 'Данилов',
    slug: 'danilov',
    region: 'Ярославская область',
    coordinates: { lat: 58.1856, lng: 40.1667 },
    phone: '+7 (48538) 8-45-92',
    email: 'danilov@промывка-отопления76.рф',
    address: 'г. Данилов, ул. Ленина, 27',
    workingHours: '8:00 - 20:00',
    priceModifier: 0.75,
    domain: 'данилов.промывка-отопления76.рф',
    domainLatin: 'danilov.promyvka-otopleniya76.ru',
    isActive: true
  },
  {
    id: 'kostroma',
    name: 'Кострома',
    slug: 'kostroma',
    region: 'Костромская область',
    coordinates: { lat: 57.7665, lng: 40.9265 },
    phone: '+7 (4942) 35-78-61',
    email: 'kostroma@промывка-отопления76.рф',
    address: 'г. Кострома, ул. Советская, 124',
    workingHours: 'Круглосуточно',
    priceModifier: 1.15,
    domain: 'кострома.промывка-отопления76.рф',
    domainLatin: 'kostroma.promyvka-otopleniya76.ru',
    isActive: true
  },
  {
    id: 'borisogleb',
    name: 'Борисоглебский',
    slug: 'borisogleb',
    region: 'Ярославская область',
    coordinates: { lat: 57.1456, lng: 39.1789 },
    phone: '+7 (48539) 2-16-84',
    email: 'borisogleb@промывка-отопления76.рф',
    address: 'п. Борисоглебский, ул. Центральная, 35',
    workingHours: '9:00 - 18:00',
    priceModifier: 0.6,
    domain: 'борисоглебский.промывка-отопления76.рф',
    domainLatin: 'borisogleb.promyvka-otopleniya76.ru',
    isActive: true
  },
  {
    id: 'ivanovo',
    name: 'Иваново',
    slug: 'ivanovo',
    region: 'Ивановская область',
    coordinates: { lat: 56.9969, lng: 40.9735 },
    phone: '+7 (4932) 47-89-23',
    email: 'ivanovo@промывка-отопления76.рф',
    address: 'г. Иваново, ул. Революции, 89',
    workingHours: 'Круглосуточно',
    priceModifier: 1.2,
    domain: 'иваново.промывка-отопления76.рф',
    domainLatin: 'ivanovo.promyvka-otopleniya76.ru',
    isActive: true
  },
  {
    id: 'bolshoe-selo',
    name: 'Большое Село',
    slug: 'bolshoe-selo',
    region: 'Ярославская область',
    coordinates: { lat: 57.3567, lng: 38.5789 },
    phone: '+7 (48534) 9-21-65',
    email: 'bolshoe-selo@промывка-отопления76.рф',
    address: 'с. Большое Село, ул. Школьная, 12',
    workingHours: '9:00 - 18:00',
    priceModifier: 0.65,
    domain: 'большое-село.промывка-отопления76.рф',
    domainLatin: 'bolshoe-selo.promyvka-otopleniya76.ru',
    isActive: true
  },
  {
    id: 'gavrilov-yam',
    name: 'Гаврилов-Ям',
    slug: 'gavrilov-yam',
    region: 'Ярославская область',
    coordinates: { lat: 57.3045, lng: 39.8544 },
    phone: '+7 (48534) 2-34-78',
    email: 'gavrilov-yam@промывка-отопления76.рф',
    address: 'г. Гаврилов-Ям, ул. Кирова, 18',
    workingHours: '8:00 - 19:00',
    priceModifier: 0.75,
    domain: 'гаврилов-ям.промывка-отопления76.рф',
    domainLatin: 'gavrilov-yam.promyvka-otopleniya76.ru',
    isActive: true
  },
  {
    id: 'lyubim',
    name: 'Любим',
    slug: 'lyubim',
    region: 'Ярославская область',
    coordinates: { lat: 58.3628, lng: 40.6849 },
    phone: '+7 (48543) 1-89-45',
    email: 'lyubim@промывка-отопления76.рф',
    address: 'г. Любим, ул. Ленина, 30',
    workingHours: '8:00 - 18:00',
    priceModifier: 0.7,
    domain: 'любим.промывка-отопления76.рф',
    domainLatin: 'lyubim.promyvka-otopleniya76.ru',
    isActive: true
  },
  {
    id: 'myshkin',
    name: 'Мышкин',
    slug: 'myshkin',
    region: 'Ярославская область',
    coordinates: { lat: 57.7856, lng: 38.4547 },
    phone: '+7 (48544) 5-67-23',
    email: 'myshkin@промывка-отопления76.рф',
    address: 'г. Мышкин, ул. Угличская, 8',
    workingHours: '9:00 - 17:00',
    priceModifier: 0.7,
    domain: 'мышкин.промывка-отопления76.рф',
    domainLatin: 'myshkin.promyvka-otopleniya76.ru',
    isActive: true
  },
  {
    id: 'poshekhonye',
    name: 'Пошехонье',
    slug: 'poshekhonye',
    region: 'Ярославская область',
    coordinates: { lat: 58.5067, lng: 39.1225 },
    phone: '+7 (48546) 3-45-91',
    email: 'poshekhonye@промывка-отопления76.рф',
    address: 'г. Пошехонье, ул. Советская, 14',
    workingHours: '8:00 - 17:00',
    priceModifier: 0.7,
    domain: 'пошехонье.промывка-отопления76.рф',
    domainLatin: 'poshekhonye.promyvka-otopleniya76.ru',
    isActive: true
  }
];

export const findCityBySlug = (slug: string): City | undefined => {
  return CITIES.find(city => city.slug === slug && city.isActive);
};

export const findCityByName = (name: string): City | undefined => {
  return CITIES.find(city => 
    city.name.toLowerCase().includes(name.toLowerCase()) && city.isActive
  );
};

export const getActiveCities = (): City[] => {
  return CITIES.filter(city => city.isActive);
};

export const findNearestCity = (lat: number, lng: number): City | null => {
  let nearestCity: City | null = null;
  let minDistance = Infinity;

  CITIES.forEach(city => {
    if (!city.isActive) return;
    
    const distance = Math.sqrt(
      Math.pow(city.coordinates.lat - lat, 2) + 
      Math.pow(city.coordinates.lng - lng, 2)
    );
    
    if (distance < minDistance) {
      minDistance = distance;
      nearestCity = city;
    }
  });

  return nearestCity;
};